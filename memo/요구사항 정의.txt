요구사항 정의 (서비스 시나리오)

1. 기능적 요구사항
<상점 관리>
- 관리자는 상품 정보를 등록/조회/수정/삭제한다.
- 각 상품은 주문 가능한 수량(재고)가 있다.
- 관리자는 재고 정보를 등록/조회/수정/삭제한다.
- 관리자는 매장 정보를 등록/조회/수정/삭제한다.
- 관리자는 회원 목록을 조회한다.
- 관리자는 주문, 배송, 픽업예약, 결제, 상담, 방문예약 목록을 조회/삭제한다.
<상품 주문>
- 사용자는 상품을 조회한다.
- 사용자는 재고가 있는 상품을 주문한다.
- 사용자는 주문을 하기 위해 요금제, 지원금, 제휴/할인, 사은품, 쿠폰 정보를 입력해야한다.
- 사용자가 가입자 인증을 한다.
- 사용자가 결제한다.
- 사용자는 주문시 배송방법(픽업예약/배송)을 선택한다.
- 주문의 픽업/배송이 완료되면 재고가 조정된다.
- 주문이 취소되면 픽업예약/배송이 취소된다.
- 사용자는 상품을 상담/방문예약할 수 있다.
- 사용자는 상품 리뷰와 문의를 조회/작성/수정/삭제 할 수 있다.
<사용자 관리 및 로그인>
- 사용자는 회원가입/ 회원정보조회/회원정보수정/회원탈퇴한다.
- 사용자는 시스템 사용을 위해 로그인하거나 로그아웃 할 수 있다.
- 사용자는 장바구니, 주문 ,배송, 픽업예약, 결제, 상담, 방문예약 목록을 조회할 수 있다.

2. 배기능적 요구사항
<트랜잭션>
- 가입자 인증이 되지 않은 주문건은 거래가 성립되지 않아야한다. (sync호출)
- 결제가 되지 않은 주문건은 거래가 성립되지 않아야한다. (sync 호출)
<장애격리>
- 상점 관리 기능이 수행되지 않더라도 주문은 365일 24시간 받을 수 있어야한다. (Async, Eventual Consistency)
- 결제 시스템이 과중되면 사용자를 잠시동안 받지 않고 결제를 잠시후에 하도록 유도한다. (Circuit breaker, fallback)
<성능>
- 고객이 주문상태를 프론트엔드에서 확인할 수 있어야 한다. (CQRS)
- 배달상태가 바뀔때마다 주문상태에 변화가 생긴다. (Event Driven)

